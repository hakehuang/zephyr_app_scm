---
cases:
  drivers.build.build:
    path: tests/drivers/build_all
    catalog: drivers
    build_only: true
    min_ram: 16
    depends_on: gpio spi i2c
  net.ethernet.build:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=ethernet.conf
    build_only: true
    min_flash: 42
    min_ram: 32
    platform_exclude: frdm_kw41z
    depends_on: gpio spi i2c
  sensors.build.trigger_a_h:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=sensors_trigger_a_h.conf
    build_only: true
    min_ram: 32
    platform_exclude: frdm_kw41z serpente
    depends_on: gpio spi i2c
  sensors.build.trigger_i_z:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=sensors_trigger_i_z.conf
    build_only: true
    min_ram: 32
    platform_exclude: frdm_kw41z serpente
    depends_on: gpio spi i2c
  sensors.build.a_h:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=sensors_a_h.conf
    build_only: true
    min_flash: 44
    min_ram: 32
    platform_exclude: frdm_kw41z serpente
    depends_on: gpio spi i2c
  sensors.build.i_z:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=sensors_i_z.conf
    build_only: true
    min_ram: 32
    platform_exclude: frdm_kw41z serpente
    depends_on: gpio spi i2c
  sensors.build.stmemsc:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=sensors_stmemsc.conf
    build_only: true
    min_ram: 32
    platform_exclude: frdm_kw41z serpente
    depends_on: gpio spi i2c
  sensors.build.stmemsc_trigger:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=sensors_stmemsc_trigger.conf
    build_only: true
    min_ram: 32
    platform_exclude: frdm_kw41z serpente
    depends_on: gpio spi i2c
  drivers.modem.build:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=modem.conf
    build_only: true
    platform_exclude: serpente particle_boron
    depends_on: gpio spi i2c
  drivers.modem.ublox_sara.build:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=modem_ublox_sara.conf
    build_only: true
    platform_exclude: serpente pinnacle_100_dvk
    depends_on: gpio spi i2c
  drivers.modem.quectel_bg9x.build:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=modem_quectel_bg9x.conf
    build_only: true
    platform_exclude: serpente pinnacle_100_dvk
    depends_on: gpio spi i2c
  drivers.xlnx.build:
    path: tests/drivers/build_all
    catalog: drivers
    extra_args: CONF_FILE=xlnx.conf
    build_only: true
    platform_allow: arty_a7_arm_designstart_m1
    depends_on: gpio spi i2c
  drivers.clock.clock_control_nrf5:
    path: tests/drivers/clock_control/clock_control_api
    catalog: drivers
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf9160dk_nrf9160
  drivers.clock.clock_control_nrf5_lfclk_rc:
    path: tests/drivers/clock_control/clock_control_api
    catalog: drivers
    extra_args: CONF_FILE="nrf_lfclk_rc.conf"
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840
  drivers.clock.nrf5_clock_calibration:
    path: tests/drivers/clock_control/nrf_clock_calibration
    catalog: drivers
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840
  drivers.clock.nrf_lf_clock_start_xtal_stable:
    path: tests/drivers/clock_control/nrf_lf_clock_start
    catalog: drivers
    extra_configs:
    - CONFIG_SYSTEM_CLOCK_WAIT_FOR_STABILITY=y
    - CONFIG_CLOCK_CONTROL_NRF_K32SRC_XTAL=y
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf9160dk_nrf9160
      nrf5340dk_nrf5340_cpuapp nrf5340dk_nrf5340_cpunet
  drivers.clock.nrf_lf_clock_start_xtal_available:
    path: tests/drivers/clock_control/nrf_lf_clock_start
    catalog: drivers
    extra_configs:
    - CONFIG_SYSTEM_CLOCK_WAIT_FOR_AVAILABILITY=y
    - CONFIG_CLOCK_CONTROL_NRF_K32SRC_XTAL=y
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf9160dk_nrf9160
      nrf5340dk_nrf5340_cpuapp nrf5340dk_nrf5340_cpunet
  drivers.clock.nrf_lf_clock_start_xtal_no_wait:
    path: tests/drivers/clock_control/nrf_lf_clock_start
    catalog: drivers
    extra_configs:
    - CONFIG_SYSTEM_CLOCK_NO_WAIT=y
    - CONFIG_CLOCK_CONTROL_NRF_K32SRC_XTAL=y
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf9160dk_nrf9160
      nrf5340dk_nrf5340_cpuapp nrf5340dk_nrf5340_cpunet
  drivers.clock.nrf_lf_clock_start_rc_stable:
    path: tests/drivers/clock_control/nrf_lf_clock_start
    catalog: drivers
    extra_configs:
    - CONFIG_SYSTEM_CLOCK_WAIT_FOR_STABILITY=y
    - CONFIG_CLOCK_CONTROL_NRF_K32SRC_RC=y
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf5340dk_nrf5340_cpuapp
      nrf5340dk_nrf5340_cpunet
  drivers.clock.nrf_lf_clock_start_rc_available:
    path: tests/drivers/clock_control/nrf_lf_clock_start
    catalog: drivers
    extra_configs:
    - CONFIG_SYSTEM_CLOCK_WAIT_FOR_AVAILABILITY=y
    - CONFIG_CLOCK_CONTROL_NRF_K32SRC_RC=y
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf5340dk_nrf5340_cpuapp
      nrf5340dk_nrf5340_cpunet
  drivers.clock.nrf_lf_clock_start_rc_no_wait:
    path: tests/drivers/clock_control/nrf_lf_clock_start
    catalog: drivers
    extra_configs:
    - CONFIG_SYSTEM_CLOCK_NO_WAIT=y
    - CONFIG_CLOCK_CONTROL_NRF_K32SRC_RC=y
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf5340dk_nrf5340_cpuapp
      nrf5340dk_nrf5340_cpunet
  drivers.clock.nrf_lf_clock_start_synth_stable:
    path: tests/drivers/clock_control/nrf_lf_clock_start
    catalog: drivers
    extra_configs:
    - CONFIG_SYSTEM_CLOCK_WAIT_FOR_STABILITY=y
    - CONFIG_CLOCK_CONTROL_NRF_K32SRC_SYNTH=y
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf5340dk_nrf5340_cpuapp
      nrf5340dk_nrf5340_cpunet
  drivers.clock.nrf_lf_clock_start_synth_available:
    path: tests/drivers/clock_control/nrf_lf_clock_start
    catalog: drivers
    extra_configs:
    - CONFIG_SYSTEM_CLOCK_WAIT_FOR_AVAILABILITY=y
    - CONFIG_CLOCK_CONTROL_NRF_K32SRC_SYNTH=y
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf5340dk_nrf5340_cpuapp
      nrf5340dk_nrf5340_cpunet
  drivers.clock.nrf_lf_clock_start_synth_no_wait:
    path: tests/drivers/clock_control/nrf_lf_clock_start
    catalog: drivers
    extra_configs:
    - CONFIG_SYSTEM_CLOCK_NO_WAIT=y
    - CONFIG_CLOCK_CONTROL_NRF_K32SRC_SYNTH=y
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf5340dk_nrf5340_cpuapp
      nrf5340dk_nrf5340_cpunet
  drivers.clock.nrf_onoff_and_bt:
    path: tests/drivers/clock_control/nrf_onoff_and_bt
    catalog: drivers
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840
  drivers.clock.clock_control_onoff:
    path: tests/drivers/clock_control/onoff
    catalog: drivers
    platform_allow: nrf51dk_nrf51422 nrf52dk_nrf52832 nrf52840dk_nrf52840 nrf9160dk_nrf9160
  drivers.counter:
    path: tests/drivers/counter/counter_basic_api
    catalog: drivers
    depends_on: counter
    min_ram: 16
    platform_exclude: nucleo_f302r8
  drivers.counter.cmos:
    path: tests/drivers/counter/counter_cmos
    catalog: drivers
    arch_allow: x86
  drivers.counter.fixed_top:
    path: tests/drivers/counter/counter_nrf_rtc/fixed_top
    catalog: drivers
    depends_on: counter
    platform_allow: nrf52840dk_nrf52840
  drivers.counter.maxim_ds3231:
    path: tests/drivers/counter/maxim_ds3231_api
    catalog: drivers
    depends_on: counter i2c
    min_ram: 16
    filter: dt_compat_enabled("maxim,ds3231")
  drivers.timer.nrf_rtc_timer:
    path: tests/drivers/timer/nrf_rtc_timer
    catalog: drivers
    platform_allow: nrf52dk_nrf52832 nrf52840dk_nrf52840
  drivers.uart.uart_async_api:
    path: tests/drivers/uart/uart_async_api
    catalog: drivers
    filter: CONFIG_UART_CONSOLE and CONFIG_SERIAL_SUPPORT_ASYNC
  drivers.uart.uart_async_api.rtt:
    path: tests/drivers/uart/uart_async_api
    catalog: drivers
    extra_configs:
    - CONFIG_USE_SEGGER_RTT=y
    - CONFIG_UART_RTT=y
    extra_args: DTC_OVERLAY_FILE=boards/segger_rtt.overlay
    filter: CONFIG_UART_CONSOLE and CONFIG_SERIAL_SUPPORT_ASYNC and CONFIG_HAS_SEGGER_RTT
    build_only: true
  drivers.uart:
    path: tests/drivers/uart/uart_basic_api
    catalog: drivers
    filter: CONFIG_UART_CONSOLE
  drivers.uart.poll:
    path: tests/drivers/uart/uart_basic_api
    catalog: drivers
    extra_args: CONF_FILE=prj_poll.conf
    filter: CONFIG_UART_CONSOLE
  drivers.uart.shell:
    path: tests/drivers/uart/uart_basic_api
    catalog: drivers
    extra_args: CONF_FILE=prj_shell.conf
    min_flash: 64
    filter: CONFIG_UART_CONSOLE
  drivers.uart.uart_mix_poll:
    path: tests/drivers/uart/uart_mix_fifo_poll
    catalog: drivers
    extra_configs:
    - CONFIG_UART_INTERRUPT_DRIVEN=n
    - CONFIG_UART_ASYNC_API=n
    - CONFIG_UART_0_ENHANCED_POLL_OUT=n
    platform_allow: nrf52840dk_nrf52840 nrf9160dk_nrf9160
  drivers.uart.uart_mix_poll_fifo:
    path: tests/drivers/uart/uart_mix_fifo_poll
    catalog: drivers
    extra_configs:
    - CONFIG_UART_INTERRUPT_DRIVEN=y
    - CONFIG_UART_0_INTERRUPT_DRIVEN=y
    - CONFIG_UART_0_ENHANCED_POLL_OUT=n
    platform_allow: nrf52840dk_nrf52840 nrf9160dk_nrf9160
  drivers.uart.uart_mix_poll_async_api:
    path: tests/drivers/uart/uart_mix_fifo_poll
    catalog: drivers
    extra_configs:
    - CONFIG_UART_ASYNC_API=y
    - CONFIG_UART_0_INTERRUPT_DRIVEN=n
    - CONFIG_UART_0_ASYNC=y
    - CONFIG_UART_0_NRF_HW_ASYNC=y
    - CONFIG_UART_0_NRF_HW_ASYNC_TIMER=2
    - CONFIG_NRFX_TIMER2=y
    - CONFIG_UART_0_ENHANCED_POLL_OUT=n
    platform_allow: nrf52840dk_nrf52840 nrf9160dk_nrf9160
  drivers.uart.uart_mix_poll_with_ppi:
    path: tests/drivers/uart/uart_mix_fifo_poll
    catalog: drivers
    extra_configs:
    - CONFIG_UART_INTERRUPT_DRIVEN=n
    - CONFIG_UART_ASYNC_API=n
    - CONFIG_UART_0_ENHANCED_POLL_OUT=y
    platform_allow: nrf52840dk_nrf52840 nrf9160dk_nrf9160
  drivers.uart.uart_mix_poll_fifo_with_ppi:
    path: tests/drivers/uart/uart_mix_fifo_poll
    catalog: drivers
    extra_configs:
    - CONFIG_UART_INTERRUPT_DRIVEN=y
    - CONFIG_UART_0_INTERRUPT_DRIVEN=y
    - CONFIG_UART_0_ENHANCED_POLL_OUT=y
    platform_allow: nrf52840dk_nrf52840 nrf9160dk_nrf9160
  drivers.uart.uart_mix_poll_async_api_with_ppi:
    path: tests/drivers/uart/uart_mix_fifo_poll
    catalog: drivers
    extra_configs:
    - CONFIG_UART_ASYNC_API=y
    - CONFIG_UART_0_INTERRUPT_DRIVEN=n
    - CONFIG_UART_0_ASYNC=y
    - CONFIG_UART_0_NRF_HW_ASYNC=y
    - CONFIG_UART_0_NRF_HW_ASYNC_TIMER=2
    - CONFIG_NRFX_TIMER2=y
    - CONFIG_UART_0_ENHANCED_POLL_OUT=y
    platform_allow: nrf52840dk_nrf52840 nrf9160dk_nrf9160
